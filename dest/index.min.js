!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports={Tree:class{constructor(e){let t={auto:!1,lazyload:!1,hasCheck:!1,id:"tree",filter:!1,draggable:!1,filterWord:""};for(let r in t)e[r]?this[r]=e[r]:this[r]=t[r];e.tree||(e.tree=[{name:"newFile",children:[]}]),this.tree=[],this.setTree(e.tree,this.tree),this.filter&&this.setFilteTree(this.tree),this.createTree(),this.filter&&this.createFilter()}setTree(e,t){for(let r=0;r<e.length;r++)t.push({name:e[r].name,children:[],spread:this.auto,checked:!1,disabled:!!e[r].disabled}),e[r].children&&this.setTree(e[r].children,t[r].children)}getSpreadChildNum(e){let t=0;return e.children.forEach(e=>{!1!==e.hasFilter&&(t=e.spread?t+this.getSpreadChildNum(e)+1:t+1)}),t}setFilteTree(e){let t=!1;return e.forEach(e=>{let r=!1;e.children.length&&this.setFilteTree(e.children)&&(r=!0),-1!==e.name.indexOf(this.filterWord)&&(r=!0),e.hasFilter=r,r&&(t=!0)}),t}setDom(e,t,r,n){if(!this.lazyload||n)for(let i=0;i<t.length;i++){let d=document.createElement("div"),o=document.createElement("div");if(d.className="treeChild",o.id=r+"_"+i,o.className="treeNode",this.draggable&&(o.draggable=!0),0!=t[i].children.length&&(t[i].spread?o.className=o.className+" shrinkNode":o.className=o.className+" spreadNode"),this.lazyload||(d.style.display=n?"":"none"),!1!==t[i].hasFilter&&(o.innerHTML=t[i].name,d.appendChild(o)),this.hasCheck){let e=document.createElement("input");e.type="checkbox",e.className="treeCheckbox",o.prepend(e),e.id=r.replace("tree","checkbox")+"_"+i,e.checked=t[i].checked,e.disabled=t[i].disabled}this.setDom(d,t[i].children,r+"_"+i,t[i].spread),e.appendChild(d)}return e}spreadTree(e,t){let r=e.id.split("_");if(r.shift(),r.length){let n=this.tree;for(let e=0;e<r.length-1;e++)n=n[r[e]].children;n=n[r[r.length-1]];let i=e.parentNode,d=30*(this.getSpreadChildNum(n)+1);t?d===parseInt(i.style.height)?i.style.height="30px":i.style.height=d+"px":n.spread||""!==i.style.height?n.spread&&""===i.style.height?(i.style.height="30px",setTimeout(()=>{i.style.height=d+"px"},0)):d===parseInt(i.style.height)?i.style.height="30px":i.style.height=d+"px":(i.style.height=d+"px",setTimeout(()=>{i.style.height="30px"},0)),i.parentNode.firstChild&&this.spreadTree(i.parentNode.firstChild,!0)}}updateDom(e){let t=e.id.split("_");if(t.shift(),t.length&&!this.run){this.run=!0;let r=e.parentNode,n=this.tree;for(let e=0;e<t.length-1;e++)n=n[t[e]].children;if((n=n[t[t.length-1]]).children.length&&(n.spread=!n.spread,n.spread?e.className="treeNode shrinkNode":e.className="treeNode spreadNode"),n.children.length&&this.spreadTree(e),n.spread){let t=r.getElementsByClassName("treeChild");for(;t.length;)r.removeChild(t[0]);this.setDom(r,n.children,e.id,n.spread),setTimeout(()=>{this.run=!1},200)}else setTimeout(()=>{let t=r.getElementsByClassName("treeChild");for(;t.length;)r.removeChild(t[0]);this.run&&this.setDom(r,n.children,e.id,n.spread),this.run=!1},200)}}updateBottomCheck(e,t,r,n){t.disabled&&n.push({node:t,id:e});let i=document.getElementById(e);t.checked!==r&&(i&&(i.checked=r),t.checked=r,t.children.forEach((i,d)=>{this.updateBottomCheck(e+"_"+d,t.children[d],r,n)}))}updateTopCheck(e){let t=e.pop(),r=document.getElementById(t),n=t.split("_");n.shift();let i=e[e.length-1];if(n.length){let t=this.tree;for(let e=0;e<n.length-2;e++)t=t[n[e]].children;let d=t[n[n.length-2]];if(d){let o=document.getElementById(i);if(!r.checked&&o.checked)d.checked=!1,o.checked=!1;else if(r.checked&&!o.checked){let e=!0;t=d.children[n[n.length-1]],d.children.forEach((t,r)=>{r!=n[n.length-1]&&!1===t.checked&&(e=!1)}),e&&(d.checked=!0,o.checked=!0)}this.updateTopCheck(e)}}}updateDisabledCheck(e,t){let r=e.pop(),{node:n,id:i}=r,d=document.getElementById(i),o=!0;n.children.forEach(e=>{!e.checked&&(o=!1)}),d&&(d.checked=o),n.checked=o}updateCheck(e){let t=e.id.split("_"),r=[];for(let e=1;e<t.length;e++)r.push(0===r.length?t[0]+"_"+t[e]:r[r.length-1]+"_"+t[e]);t.shift();let n=this.tree;for(let e=0;e<t.length-1;e++)n=n[t[e]].children;n=n[t[t.length-1]];let i=[];this.updateBottomCheck(e.id,n,!n.checked,i),i.length&&this.updateDisabledCheck(i,n.checked),this.updateTopCheck(r)}clearCheck(e){!e&&(e=this.tree),e.forEach(e=>{e.checked=!1,this.clearCheck(e.children)})}createTree(){let e=this.id,t=document.getElementById(e);if(!t)throw new Error("dom is undefined");t.innerHTML="",t.className="treeParent",this.setDom(t,this.tree,"tree",!0),t.addEventListener("click",this.clickTree.bind(this)),this.draggable&&(t.addEventListener("dragstart",this.dragTreeStart.bind(this)),t.addEventListener("dragend",this.dragTreeEnd.bind(this)),t.addEventListener("dragover",this.dragTreeOver.bind(this)))}filterData(){this.filterWord=document.getElementById("treeFilter").value;let e=this.id,t=document.getElementById(e);if(!t)throw new Error("dom is undefined");this.run=!1;let r=t.children,n=0;for(;n<r.length;)"treeFilterContainer"===r[n].className?n++:t.removeChild(r[n]);this.setFilteTree(this.tree),this.setDom(t,this.tree,"tree",!0);let i=!0;if(this.tree.forEach(e=>{e.hasFilter&&(i=!1)}),i){let e=document.createElement("p");e.id="treeNoData",e.innerHTML="暂无数据",document.getElementById("tree").appendChild(e)}else{let e=document.getElementById("treeNoData");e&&document.getElementById("tree").removeChild(e)}}createFilter(){let e=this.id,t=document.getElementById(e);if(!t)throw new Error("dom is undefined");let r=document.createElement("div"),n=document.createElement("input");n.id="treeFilter",n.placeholder="输入关键字进行过滤",r.className="treeFilterContainer",r.append(n),t.prepend(r),n.addEventListener("keyup",this.filterData.bind(this))}updateTree(e){let t=this.id;if(!document.getElementById(t))throw new Error("dom is undefined");this.updateDom(e)}clickTree(e){"div"===e.path[0].nodeName.toLowerCase()?this.updateTree(e.path[0]):"checkbox"===e.path[0].type&&this.updateCheck(e.path[0])}dragTreeStart(e){let t=e.path[0],r=e.path[0].className;if(!this.drag&&(this.drag={}),-1!==r.indexOf("treeChild"))this.drag.startNode=e.path[0].firstChild.id;else{if(-1===r.indexOf("treeNode")&&!r.indexOf(!0))return;this.drag.startNode=t.id.replace("checkbox","tree")}}dragTreeOver(e){let t=e.path[0],r=e.path[0].className;if(!this.drag&&(this.drag={}),-1!==r.indexOf("treeChild")){if(!this.drag.overNode&&(this.drag.overNode=e.path[0].firstChild.id),this.drag.overNode!==e.path[0].firstChild.id){let t=document.getElementById(this.drag.overNode);t.style.borderBottom="1px solid white",t.style.borderTop="1px solid white",t.style.background="white",this.drag.overNode=e.path[0].firstChild.id}}else{if(-1===r.indexOf("treeNode")&&-1==r.indexOf("treeCheckbox"))return;if(!this.drag.overNode&&(this.drag.overNode=t.id.replace("checkbox","tree")),this.drag.overNode!==t.id.replace("checkbox","tree")){let e=document.getElementById(this.drag.overNode);e.style.borderBottom="1px solid white",e.style.borderTop="1px solid white",e.style.background="white",this.drag.overNode=t.id.replace("checkbox","tree")}}if(-1==this.drag.overNode.indexOf(this.drag.startNode)){let t=e.clientY,r=document.getElementById(this.drag.overNode),n=t-r.offsetTop;n<=23&&n>=7?(r.style.borderBottom="1px solid white",r.style.borderTop="1px solid white",r.style.background="rgba(0,0,0,0.1)",this.drag.dragWay=1):n>23?(r.style.borderBottom="1px solid rgba(0,0,0,0.8)",r.style.borderTop="1px solid white",r.style.background="white",this.drag.dragWay=2):(r.style.borderBottom="1px solid white",r.style.borderTop="1px solid rgba(0,0,0,0.8)",r.style.background="white",this.drag.dragWay=0)}}dragTreeEnd(e){let t=document.getElementById(this.drag.overNode);t.style.borderBottom="1px solid white",t.style.borderTop="1px solid white",t.style.background="white";let r=this.drag.startNode.split("_");r.shift();let n=this.drag.overNode.split("_");n.shift();let i=this.tree;for(let e=0;e<r.length-1;e++)i=i[r[e]].children;i=i.splice(r[r.length-1],1);let d=this.tree;for(let e=0;e<n.length-1;e++)d=d[n[e]].children;switch(this.drag.dragWay){case 0:d.splice(n[n.length-1],0,i[0]);break;case 1:d[n[n.length-1]].children.push(i[0]);break;case 2:d.splice(n[n.length-1]+1,0,i[0])}let o=document.getElementById(this.id),a=o.children,l=0;for(;l<a.length;)"treeFilterContainer"===a[l].className?l++:o.removeChild(a[l]);this.clearCheck(),this.setDom(o,this.tree,"tree",!0)}}}},function(e,t,r){"use strict";r.r(t);r(2);var n=r(0);window.onload=function(){new n.Tree({tree:[{name:"tree",children:[{name:"tree_0",children:[{name:"tree_0_0"},{name:"tree_0_1"}],disabled:!0},{name:"tree_1",children:[{name:"tree_1_0"},{name:"tree_1_1",children:[{name:"tree_1_1_1"},{name:"tree_1_1_2"},{name:"tree_1_1_3"}]}]},{name:"tree_2",children:[{name:"tree_2_0"},{name:"tree_2_1",children:[{name:"tree_2_1_1"},{name:"tree_2_1_2"},{name:"tree_2_1_3"}],disabled:!0}]}]},{name:"video"}],auto:!0,lazyload:!1,hasCheck:!0,filter:!0,draggable:!0,id:"tree"})}},function(e,t,r){var n=r(3),i=r(4);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var d={insert:"head",singleton:!1},o=(n(i,d),i.locals?i.locals:{});e.exports=o},function(e,t,r){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},d=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),o=[];function a(e){for(var t=-1,r=0;r<o.length;r++)if(o[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},n=[],i=0;i<e.length;i++){var d=e[i],l=t.base?d[0]+t.base:d[0],s=r[l]||0,h="".concat(l," ").concat(s);r[l]=s+1;var c=a(h),p={css:d[1],media:d[2],sourceMap:d[3]};-1!==c?(o[c].references++,o[c].updater(p)):o.push({identifier:h,updater:m(p,t),references:1}),n.push(h)}return n}function s(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])}),"function"==typeof e.insert)e.insert(t);else{var o=d(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var h,c=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function p(e,t,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var d=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(d,o[t]):e.appendChild(d)}}var u=null,f=0;function m(e,t){var r,n,i;if(t.singleton){var d=f++;r=u||(u=s(t)),n=p.bind(null,r,d,!1),i=p.bind(null,r,d,!0)}else r=s(t),n=function(e,t,r){var n=r.css,i=r.media,d=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),d&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(d))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var i=a(r[n]);o[i].references--}for(var d=l(e,t),s=0;s<r.length;s++){var h=a(r[s]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}r=d}}}},function(e,t,r){(t=r(5)(!1)).push([e.i,'* {\r\n    margin: 0;\r\n    padding: 0;\r\n    -webkit-user-select: none;\r\n       -moz-user-select: none;\r\n        -ms-user-select: none;\r\n            user-select: none;\r\n}\r\n\r\n.treeParent {\r\n    display: inline-block;\r\n}\r\n\r\n.treeParent .treeFilterContainer {\r\n    margin-left: 20px;\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.treeParent #treeNoData {\r\n    margin-left: 20px;\r\n    margin-top: 20px;\r\n}\r\n\r\n.treeParent .treeFilterContainer #treeFilter {\r\n    padding: 0 5px;\r\n    width: 200px;\r\n    height: 26px;\r\n    font-size: 14px;\r\n    border: 1px solid gray;\r\n    border-radius: 2px;\r\n    outline: none;\r\n}\r\n\r\n.treeParent .treeNode{\r\n    height: 30px;\r\n    line-height: 30px;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    position: relative;\r\n    left: 10px;\r\n    -webkit-box-sizing: border-box;\r\n            box-sizing: border-box;\r\n    border-bottom: 1px solid white;\r\n    border-top: 1px solid white;\r\n    -webkit-transition: .3s;\r\n    -o-transition: .3s;\r\n    transition: .3s;\r\n}\r\n\r\n.treeParent .spreadNode::before,\r\n.treeParent .shrinkNode::before {\r\n    position: absolute;\r\n    left: -15px;\r\n    top: 50%;\r\n    -webkit-transform: translateY(-50%);\r\n        -ms-transform: translateY(-50%);\r\n            transform: translateY(-50%);\r\n    display: block;\r\n}\r\n\r\n.treeParent .spreadNode::before {\r\n    content: "+";\r\n    padding-right: 10px;\r\n}\r\n\r\n.treeParent .shrinkNode::before {\r\n    content: "-";\r\n    padding-right: 10px;\r\n}\r\n\r\n.treeParent .treeChild {\r\n    padding-left: 20px;\r\n    border-left: 1px solid black;\r\n    overflow: hidden;\r\n    height: auto;\r\n    -webkit-transition: .3s;\r\n    -o-transition: .3s;\r\n    transition: .3s;\r\n}\r\n\r\n.treeParent>.treeChild {\r\n    border-left: 0px;\r\n}\r\n\r\n.treeChild .treeCheckbox {\r\n    position: relative;\r\n    top: 10px;\r\n    margin-right: 5px;\r\n    margin-left: 5px;\r\n}',""]),e.exports=t},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=(o=n,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),d=n.sources.map(function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")});return[r].concat(d).concat([i]).join("\n")}var o,a,l;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r}).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var d=0;d<this.length;d++){var o=this[d][0];null!=o&&(i[o]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);n&&i[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}}]);